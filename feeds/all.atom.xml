<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Tom's IT Cafe</title><link href="https://tmolnar0831.github.io/" rel="alternate"></link><link href="https://tmolnar0831.github.io/feeds/all.atom.xml" rel="self"></link><id>https://tmolnar0831.github.io/</id><updated>2022-10-18T17:00:00+02:00</updated><entry><title>The future of DevOps</title><link href="https://tmolnar0831.github.io/the-future-of-devops.html" rel="alternate"></link><published>2022-09-16T00:00:00+02:00</published><updated>2022-09-16T16:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-09-16:/the-future-of-devops.html</id><summary type="html">&lt;p&gt;A lot of people are talking about the future of the IT, the traditional operations work, and they are trying to guess whether they will have a job in IT in the future.&lt;/p&gt;
&lt;p&gt;As I see most IT colleagues feel some uncertainty about their jobs.
Different positions (and position names …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A lot of people are talking about the future of the IT, the traditional operations work, and they are trying to guess whether they will have a job in IT in the future.&lt;/p&gt;
&lt;p&gt;As I see most IT colleagues feel some uncertainty about their jobs.
Different positions (and position names) come and go at the huge tech, telco and financial companies. The fluctuation of the people is also constant.&lt;/p&gt;
&lt;p&gt;Do you think your job is in danger? Read further!&lt;/p&gt;
&lt;p&gt;Spoiler: &lt;a href="https://www.linkedin.com/pulse/11-most-in-demand-tech-jobs-2022-girish-sharma/"&gt;We don't have to be worried!&lt;/a&gt; / &lt;a href="https://www.comptia.org/blog/top-it-skills-in-demand"&gt;There is a huge demand for IT professionals!&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;DevOps, DevSecOps, SRE and so on&lt;/h1&gt;
&lt;p&gt;With the COVID-19 pandemic and in our unstable economy the careers in IT changed a lot.
Not just the multinational enterprises, but even the small companies are transitioning to remote work or hybrid work.
They reduce the size of their offices and cut costs with this step. On the other hand they can support the home office of their employees.&lt;/p&gt;
&lt;p&gt;This remote work must be supported by a secure and strong IT infrastructure. The infrastructure must be architecturally planned, documented and tested thoroughly.
A great IT automation and configuration management system is a must.&lt;/p&gt;
&lt;p&gt;So the DevOps architects, engineers and Site Reliablility Engineers are in high demand around the world.&lt;/p&gt;
&lt;p&gt;Strong IT infrastructure means reliable security. With introducing new entry points to the system, employers need more data security to avoid breaches and break-ins.&lt;/p&gt;
&lt;p&gt;Companies need more and more people with the right security knowledge in their teams. Security and DevOps can be fused together, and we can work as DevSecOps or something like that.&lt;/p&gt;
&lt;p&gt;Needless to mention that there is a high demand for people researching AI.&lt;/p&gt;
&lt;p&gt;So we can say that jobs in IT are strong and the talented people are in high demand. According to a job site in my country there are around 30% less IT professionals than positions to fill. I hear similar numbers around Europe.&lt;/p&gt;
&lt;h1&gt;There is future in IT for sure&lt;/h1&gt;
&lt;p&gt;Yes, we can build a nice career in IT following some rules.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Learn, read, study, experiment and try to stay up to date.&lt;/li&gt;
&lt;li&gt;Never settle with your current knowledge - the market changes, the technology changes - go to point 1. and stay up to date.&lt;/li&gt;
&lt;li&gt;Repeate the above&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I am not kidding: this is one of the most irritating thing I see among IT practitioners. They settle with their knowledge for years, it becomes obsolate and rusty.&lt;/p&gt;
&lt;p&gt;It is our responsibility to read about new technology, to remain on the top. &lt;/p&gt;</content><category term="General"></category><category term="devops"></category><category term="security"></category><category term="it"></category></entry><entry><title>Mechanical keyboards: I purchased a Keychron K2 v2</title><link href="https://tmolnar0831.github.io/mechanical-keyboards.html" rel="alternate"></link><published>2022-06-02T07:00:00+02:00</published><updated>2022-06-02T07:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-06-02:/mechanical-keyboards.html</id><summary type="html">&lt;p&gt;My first computer was a C64 when I was a child. Later when I used the first i486 PC (still as a child) it had an IBM keyboard.&lt;/p&gt;
&lt;p&gt;A beautiful, white-grey and clicky keyboard, I guess it was the Model M.&lt;/p&gt;
&lt;p&gt;The memory of writing on such a great keyboard …&lt;/p&gt;</summary><content type="html">&lt;p&gt;My first computer was a C64 when I was a child. Later when I used the first i486 PC (still as a child) it had an IBM keyboard.&lt;/p&gt;
&lt;p&gt;A beautiful, white-grey and clicky keyboard, I guess it was the Model M.&lt;/p&gt;
&lt;p&gt;The memory of writing on such a great keyboard faded during the years of using membrane dome keyboards.&lt;/p&gt;
&lt;p&gt;I learned touchtyping in secondary school, and I practiced typing on a mechanical typewriter at home.&lt;/p&gt;
&lt;p&gt;Later using different ThinkPads gave me back some pleasure of typing again. The keyboards on the T61 to the T420 were exceptionally great. I still like the keyboard of the newer ThinkPad models, but the feeling of my L380 is far from the keyboards of the older models.&lt;/p&gt;
&lt;p&gt;Recently I developed lower hand and wrist pain because I type a lot, so I decided to look around on the market of the mechanical keyboards. &lt;strong&gt;It was a wonderful idea!&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Membrane rubber dome vs mechanical keyboards: what's the difference?&lt;/h1&gt;
&lt;p&gt;I break it down to physical and non-physical differences. Some of the non-physical differences are subjective, or they are just my personal opinion.&lt;/p&gt;
&lt;h2&gt;Physical differences&lt;/h2&gt;
&lt;p&gt;Most &lt;strong&gt;membrane keyboards&lt;/strong&gt; have an electrical plate below the keys. A pressed key transfers an electronic signal to the receiver at the bottom of its movement to be registered. All keys give these signals to the same large element. Rubber domes under the keys push back the keycaps to their original place. That is why they give us a soft feeling of typing.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;mechanical keyboards&lt;/strong&gt; have mechanical switches (suprpirse!) below all individual keys. Different switches have different behavior while typing. Mechanical switches have a spring inside, it pushes back the stem to its orignal place.
Keyboards have a property called &lt;a href="https://www.mechanical-keyboard.org/n-key-rollover-explained/"&gt;key rollover&lt;/a&gt; that tells us how many keys can we press together at a time and the keyboard still registers them. Mechanical keyboards have N-key rollover that means we can press unlimited keys and they are still registered.
Theoretically we can press all keys at once.&lt;/p&gt;
&lt;h2&gt;Non-physical differences&lt;/h2&gt;
&lt;p&gt;Due to the physical properties of different switches the feeling is different by switch types:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Linear&lt;/strong&gt; switches are silent and there is not a tactile, bumpy feeling when pressing the keys.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tactile&lt;/strong&gt; switches are a bit louder than the linear ones, they give a bumpy, tactile feedback when pressing the key.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clicky&lt;/strong&gt; switches are the loudest switches. They are like the tactile ones with a clicky sound at the bump.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Theoretically mechanical keyboards will last longer and they are more durable.&lt;/p&gt;
&lt;p&gt;Mechanical keys lower the strain on the typing hands.&lt;/p&gt;
&lt;p&gt;Mechanical keyboards increase the typing speed because of the high actuation point and good feedback of the keypresses.&lt;/p&gt;
&lt;p&gt;Rubber dome keyboards are cheaper to produce and buy.&lt;/p&gt;
&lt;h1&gt;The Keychron K2 v2 hot-swap aluminium body keyboard&lt;/h1&gt;
&lt;p&gt;I purchased the keyboard after carefully reading a lot of pages of reviews, I watched videos about the topic and even I asked the opinion of some mechanical keyboard enthusiasts.&lt;/p&gt;
&lt;p&gt;After some careful consideration the &lt;a href="https://www.keychron.com/"&gt;Keychron&lt;/a&gt; came out as my best option.&lt;/p&gt;
&lt;p&gt;Considering my habits and desk setup I had to decide between TKL and 75%. (TKL or "ten key less" is a keyboard layout without the numeric part, the 75% keyboard is a more compressed layout with an even rows of keys.) Finally I decided to go small/narrow and chose the &lt;a href="https://www.keychron.com/products/keychron-k2-hot-swappable-wireless-mechanical-keyboard"&gt;75% K2 v2&lt;/a&gt; model.&lt;/p&gt;
&lt;p&gt;I saw good reviews about the &lt;a href="https://www.keychron.com/collections/keychron-mechanical-keyboard-switches"&gt;Gateron G Pro switches&lt;/a&gt;, but I wanted the possibility of changing the switches whenever I want to, so I went for the hot-swap version.&lt;/p&gt;
&lt;p&gt;Finally as I am a touchtyper with reasonably good typing speed I chose the tactile switches. It means the &lt;strong&gt;Gateron G Pro Brown&lt;/strong&gt; ones. I may change them some time to the clicky blue switches, but currently I am 100% happy with the feeling of typing on this keyboard.&lt;/p&gt;
&lt;p&gt;As a little addition to the setup (and to my comfort) I chose to order the wooden wrist rest. I hesitated about it, but the keyboard's frame is quite thick, and when I am not in heavy typing, I like to rest my hands in front of the keyboard. The wrist rest is worth every penny, it is elegant and it makes the keyboard very comfortable.&lt;/p&gt;
&lt;h1&gt;Orange Keycaps&lt;/h1&gt;
&lt;p&gt;The orange esc and light keycaps go well with my ThinkPad mouse's red wheel and with my ThinkPad's trackpoint. :)&lt;/p&gt;
&lt;h1&gt;Opinions are welcome&lt;/h1&gt;
&lt;p&gt;If you want to share your opinion, join my &lt;a href="https://discord.gg/4829xMBm"&gt;Tom's IT Cafe Discord Server&lt;/a&gt; and tell it!&lt;/p&gt;</content><category term="General"></category><category term="keyboard"></category><category term="hardware"></category><category term="keychron"></category></entry><entry><title>Ansible installation</title><link href="https://tmolnar0831.github.io/ansible-install.html" rel="alternate"></link><published>2022-06-01T07:00:00+02:00</published><updated>2022-10-18T17:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-06-01:/ansible-install.html</id><summary type="html">&lt;h1&gt;IT Automation&lt;/h1&gt;
&lt;p&gt;When I was young the System and Network Administrators wrote automation shell scripts to make their jobs faster and easier. With adding some variable parameters to these scripts a whole server system could be installed in a snap. It was the first try to automate in IT.&lt;/p&gt;
&lt;p&gt;IT …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;IT Automation&lt;/h1&gt;
&lt;p&gt;When I was young the System and Network Administrators wrote automation shell scripts to make their jobs faster and easier. With adding some variable parameters to these scripts a whole server system could be installed in a snap. It was the first try to automate in IT.&lt;/p&gt;
&lt;p&gt;IT Automation is the process of reducing or replacing &lt;strong&gt;direct&lt;/strong&gt; human interaction with the IT systems. People develop and maintain pipelines and automation code instead of the configuration files. It does not mean that companies need less people. The code for the automation must be maintained as well. Because of the complexity of these systems, sometimes there is a need for more DevOps people for the task.&lt;/p&gt;
&lt;p&gt;Automation includes system and network automation as the main areas, and recently it is including security and monitoring as well.&lt;/p&gt;
&lt;p&gt;IT Automation is a key in scaling faster, building reliable, self-healing systems and deploying reproducable services.&lt;/p&gt;
&lt;p&gt;This technology helps to detect and eliminate &lt;strong&gt;configuration drifts&lt;/strong&gt;, and the CI/CD pipelines uncover configuration errors and mistakes easily.&lt;/p&gt;
&lt;p&gt;So do you need to learn IT automation?&lt;/p&gt;
&lt;p&gt;In my opinion every person in IT without exception should learn the basics of IT automation.&lt;/p&gt;
&lt;h1&gt;Ansible&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.ansible.com/"&gt;Ansible&lt;/a&gt; is a basic and lightweight automation and configuration management framework.&lt;/p&gt;
&lt;p&gt;It earned the reputation of the most beginner friendly tool to learn on the market because of its initial learning curve.&lt;/p&gt;
&lt;p&gt;Ansible is written in &lt;a href="https://www.python.org/"&gt;Python&lt;/a&gt; and it is entirely capable of managing any size of business.&lt;/p&gt;
&lt;p&gt;The core features of Ansible are based on the command line and they are available for anyone without buying subscriptions. Ansible is open source, the &lt;a href="https://github.com/ansible/ansible"&gt;source code&lt;/a&gt; is managed on GitHub.&lt;/p&gt;
&lt;p&gt;A cutting edge version of the &lt;a href="https://www.ansible.com/products/controller?extIdCarryOver=true&amp;amp;sc_cid=701f2000001OH6uAAG"&gt;Ansible Automation Platform&lt;/a&gt; (previously the Ansible Tower) is available for the public, this tool is called &lt;a href="https://github.com/ansible/awx"&gt;AWX&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;AWX gives us a web user interface, additional scheduling and role based access control to our Ansible core.&lt;/p&gt;
&lt;h1&gt;Installing an Ansible lab&lt;/h1&gt;
&lt;p&gt;A simple Ansible management host machine can be intalled easily on any Linux machine.&lt;/p&gt;
&lt;p&gt;Debian and Red Hat based distributions have it in their package repositories.&lt;/p&gt;
&lt;p&gt;It's possible to install Ansible from Python PIP as well.&lt;/p&gt;
&lt;h2&gt;Ansible in WSL&lt;/h2&gt;
&lt;p&gt;Though in the time of this post the documentation says that Ansible is not supported in WSL I haven't found any major issue with it running Ansible in my Debian.&lt;/p&gt;
&lt;p&gt;If you want to learn the basics of Ansible automation with a minimal-effort lab, I strongly recommend starting it in WSL and later on virtual machines can help you to scale your environment.&lt;/p&gt;
&lt;h2&gt;PIP installation&lt;/h2&gt;
&lt;p&gt;To install Ansible with Python PIP I created a venv.&lt;/p&gt;
&lt;p&gt;It is in my project directory, so I can keep it synchronized between my WSL distros, computers and virtual machines.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;mkdir&lt;/span&gt; &lt;span class="nv"&gt;ansible_lab&lt;/span&gt;                  # &lt;span class="nv"&gt;create&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt;
&lt;span class="nv"&gt;cd&lt;/span&gt; &lt;span class="nv"&gt;ansible_lab&lt;/span&gt;                     # &lt;span class="nv"&gt;change&lt;/span&gt; &lt;span class="nv"&gt;to&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt; &lt;span class="nv"&gt;directory&lt;/span&gt;
&lt;span class="nv"&gt;python3&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;m&lt;/span&gt; &lt;span class="nv"&gt;venv&lt;/span&gt; &lt;span class="nv"&gt;ansible_venv&lt;/span&gt;       # &lt;span class="nv"&gt;create&lt;/span&gt; &lt;span class="nv"&gt;a&lt;/span&gt; &lt;span class="nv"&gt;virtual&lt;/span&gt; &lt;span class="nv"&gt;environment&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt; &lt;span class="nv"&gt;in&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;project&lt;/span&gt; &lt;span class="nv"&gt;dir&lt;/span&gt;
&lt;span class="nv"&gt;source&lt;/span&gt; &lt;span class="nv"&gt;ansible_venv&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nv"&gt;activate&lt;/span&gt;   # &lt;span class="nv"&gt;activate&lt;/span&gt; &lt;span class="nv"&gt;the&lt;/span&gt; &lt;span class="nv"&gt;venv&lt;/span&gt;
&lt;span class="nv"&gt;pip&lt;/span&gt; &lt;span class="nv"&gt;install&lt;/span&gt; &lt;span class="nv"&gt;ansible&lt;/span&gt;                # &lt;span class="nv"&gt;install&lt;/span&gt; &lt;span class="nv"&gt;Ansible&lt;/span&gt; &lt;span class="nv"&gt;and&lt;/span&gt; &lt;span class="nv"&gt;its&lt;/span&gt; &lt;span class="nv"&gt;dependencies&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;The first steps&lt;/h1&gt;
&lt;p&gt;As a first step let's see if Ansible is installed and we see the current version.&lt;/p&gt;
&lt;p&gt;Then let's run the first Ansible command on our local host and see if it works, try out some privilege escalation as well.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ansible --version
ansible localhost -m ping
ansible localhost -m ping --become --ask-become-pass
ansible localhost -m ansible.builtin.command -a &amp;quot;whoami&amp;quot; --become --ask-become-pass
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If all command ran without problems, then the system is ready for automating with it.&lt;/p&gt;
&lt;h1&gt;The next steps&lt;/h1&gt;
&lt;p&gt;I accept suggestions on the &lt;a href="https://discord.gg/4829xMBm"&gt;Tom's IT Cafe Discord Server&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;References&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://www.redhat.com/en/topics/automation/whats-it-automation"&gt;Red Hat - What is IT automation?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ansible.com/"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.redhat.com/en/about/press-releases/red-hat-ansible-automation-platform-2-drives-cloud-native-automation-and-helps-developers-become-automators"&gt;Ansible Automation Platform 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.ansible.com/"&gt;Ansible documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="Linux"></category><category term="python"></category><category term="ansible"></category><category term="pip"></category></entry><entry><title>How to rename (and backup) a Python virtual environment</title><link href="https://tmolnar0831.github.io/rename-a-python-venv.html" rel="alternate"></link><published>2022-05-16T00:00:00+02:00</published><updated>2022-05-25T07:20:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-05-16:/rename-a-python-venv.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Video:&lt;/strong&gt; &lt;a href="https://youtu.be/sesa3ngoU74"&gt;YouTube video presentation of the post&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In short:&lt;/strong&gt; I find it much easier to create a venv with the same packages than renaming one.
I found magic &lt;code&gt;sed&lt;/code&gt; commands and directory traversal scripts, but they did a half work or nothing.
I found out that recreating an env is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Video:&lt;/strong&gt; &lt;a href="https://youtu.be/sesa3ngoU74"&gt;YouTube video presentation of the post&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In short:&lt;/strong&gt; I find it much easier to create a venv with the same packages than renaming one.
I found magic &lt;code&gt;sed&lt;/code&gt; commands and directory traversal scripts, but they did a half work or nothing.
I found out that recreating an env is easier and faster.&lt;/p&gt;
&lt;p&gt;Activate the old venv and query the packages with &lt;a href="https://pip.pypa.io/en/stable/cli/pip_freeze/"&gt;pip freeze&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip freeze &amp;gt; requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command will write a &lt;code&gt;requirements.txt&lt;/code&gt; file with the currently installed packages and versions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Save this file for later use!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Create a new venv with the desired name:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;python3 -m venv test_venv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Activate the new environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;source test_venv/bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now we can &lt;a href="https://pip.pypa.io/en/stable/cli/pip_install/"&gt;install&lt;/a&gt; the packages from our old environment with using the &lt;code&gt;requirements.txt&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install -r requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now the old env can be deleted or moved away.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://pip.pypa.io/en/stable/user_guide/"&gt;Python PIP documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.python.org/3/library/venv.html"&gt;Python venv documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="Linux"></category><category term="python"></category><category term="venv"></category><category term="pip"></category><category term="backup"></category></entry><entry><title>How to upgrade to Debian Bullseye from Buster in WSL</title><link href="https://tmolnar0831.github.io/upgrade-debian-in-wsl.html" rel="alternate"></link><published>2022-05-13T00:00:00+02:00</published><updated>2022-05-13T00:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-05-13:/upgrade-debian-in-wsl.html</id><summary type="html">&lt;p&gt;If we installed a Debian WSL distro on our system, and in the mean time a new version is released, it is possible to upgrade.&lt;/p&gt;
&lt;p&gt;The distribution upgrade happens almost the same way as on other virtual and physical platforms.&lt;/p&gt;
&lt;p&gt;I upgrade my WSL distros while I write this post …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If we installed a Debian WSL distro on our system, and in the mean time a new version is released, it is possible to upgrade.&lt;/p&gt;
&lt;p&gt;The distribution upgrade happens almost the same way as on other virtual and physical platforms.&lt;/p&gt;
&lt;p&gt;I upgrade my WSL distros while I write this post: the current Debian oldstable is 10.12 (buster),
and I am going to upgrade to 11.03 (bullseye).&lt;/p&gt;
&lt;p&gt;My approach is the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;prepare&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;backup&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;upgrade&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;clean&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;up&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;checks&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Preparation&lt;/h1&gt;
&lt;p&gt;Before we start, check the current Debian version to make sure on which version should we upgrade:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat /etc/debian_version 
&lt;span class="m"&gt;10&lt;/span&gt;.12
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;On the &lt;a href="https://www.debian.org/releases/"&gt;releases page&lt;/a&gt; of the Debian homepage we can double-check the release names and version numbers.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Debian 10 == buster
Debian 11 == bullseye
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now we know that we want to upgrade from 10 to 11. Let's read the &lt;a href="https://www.debian.org/releases/stable/amd64/release-notes/index.en.html"&gt;release notes&lt;/a&gt; and make sure we understand the consequences of the upgrade!&lt;/p&gt;
&lt;h1&gt;Backup&lt;/h1&gt;
&lt;p&gt;Taking a backup of a WSL distro is realatively easy: we export the distro to a tar archive.&lt;/p&gt;
&lt;p&gt;Terminate the WSL distro and take a backup of it as I show it in my &lt;a href="https://youtu.be/dx2WoQo8hho"&gt;video post&lt;/a&gt; on YouTube.&lt;/p&gt;
&lt;p&gt;In case of emergency we can simply import back the the current state of the machine with its files and stuff.&lt;/p&gt;
&lt;h1&gt;The upgrade&lt;/h1&gt;
&lt;p&gt;The actual Debian distribution upgrade happens as the upgrade documentation states it.
In the first phase the minimal system is being changed, then in the second phase the full upgrade happens.&lt;/p&gt;
&lt;p&gt;Let's make sure we start with the latest Debian 10 version!&lt;/p&gt;
&lt;p&gt;Update the current Debian buster version with the latest patches:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt update -y &amp;amp;&amp;amp; sudo apt full-upgrade -y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Remove the unnecessary packages:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt autoremove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;At this point we have a &lt;strong&gt;clean state&lt;/strong&gt; of the &lt;strong&gt;freshest&lt;/strong&gt; Debian Buster, so we are ready to change the package repository configuration, and point it to the new release.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo sed -i &amp;#39;s/buster/bullseye/g&amp;#39; /etc/apt/sources.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The bullseye security repo follows a different convention than the buster repo did.
Find the following line in the &lt;code&gt;/etc/apt/sources.list&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://security.debian.org/debian-security&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye/updates&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And change it to:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://security.debian.org/debian-security&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye-security&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Thus the &lt;code&gt;/etc/apt/sources.list&lt;/code&gt; file should look something like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://deb.debian.org/debian&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://deb.debian.org/debian&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye-updates&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://security.debian.org/debian-security&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye-security&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;deb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;http://ftp.debian.org/debian&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;bullseye-backports&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kp"&gt;main&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Let's update the package repository cache!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sudo apt update
Hit:1 http://ftp.debian.org/debian bullseye-backports InRelease
Hit:2 http://deb.debian.org/debian bullseye InRelease
Hit:3 http://security.debian.org/debian-security bullseye-security InRelease
Hit:4 http://deb.debian.org/debian bullseye-updates InRelease
Reading package lists... Done
Building dependency tree
Reading state information... Done
&lt;span class="m"&gt;396&lt;/span&gt; packages can be upgraded. Run &lt;span class="s1"&gt;&amp;#39;apt list --upgradable&amp;#39;&lt;/span&gt; to see them.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If everything is fine and the command ran without any error then the upgrade should happen in two phases:
1. Minimal upgrade
1. Full upgrade&lt;/p&gt;
&lt;h2&gt;Minimal upgrade&lt;/h2&gt;
&lt;p&gt;Upgrade the base system with the bullseye packages:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt upgrade --without-new-pkgs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the upgrade ran without any errors, then let's clean up the unnecessary packages:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt autoremove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Full upgrade&lt;/h2&gt;
&lt;p&gt;The full upgrade happens with the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt full-upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Again if everything ran without any issue, let's clean up the packages again:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt autoremove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The distribution upgrade is done at this point, checks and monitoring can be done depending on the function of the system.&lt;/p&gt;
&lt;h1&gt;Post checks&lt;/h1&gt;
&lt;p&gt;Let's see if the upgrade was successful and we have Debian 11:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat /etc/debian_version
&lt;span class="m"&gt;11&lt;/span&gt;.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The further checks depend on the system's function.&lt;/p&gt;</content><category term="Windows"></category><category term="linux"></category><category term="wsl"></category><category term="howto"></category><category term="upgrade"></category></entry><entry><title>I started a Discord server for the site!</title><link href="https://tmolnar0831.github.io/new-discord-server.html" rel="alternate"></link><published>2022-05-12T00:00:00+02:00</published><updated>2022-05-12T00:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-05-12:/new-discord-server.html</id><content type="html">&lt;p&gt;&lt;strong&gt;I registered a Discord server for the site for a better communicaton!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://discord.gg/4829xMBm"&gt;Tom's IT Cafe Discord Server&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have questions, comments or any critique, just pop in!&lt;/p&gt;
&lt;p&gt;See you there!&lt;/p&gt;</content><category term="General"></category><category term="discord"></category><category term="general"></category><category term="blog"></category></entry><entry><title>Installing Kali Linux on WSL</title><link href="https://tmolnar0831.github.io/installing-kali-on-wsl.html" rel="alternate"></link><published>2022-05-11T00:00:00+02:00</published><updated>2022-05-11T00:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-05-11:/installing-kali-on-wsl.html</id><summary type="html">&lt;h1&gt;Pre-install steps&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;WSL must be installed on the host machine prior this task. Microsoft has an &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install"&gt;extensive documentation&lt;/a&gt; on the topic.&lt;/li&gt;
&lt;li&gt;Basic WSL management skills are nice to have, like importing/exporting/removing WSL instances. Use &lt;code&gt;wsl --help&lt;/code&gt; for reference.&lt;/li&gt;
&lt;li&gt;Read the &lt;a href="https://www.kali.org/get-kali/#kali-wsl"&gt;Kali documentation&lt;/a&gt; about the topic as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Kali …&lt;/h1&gt;</summary><content type="html">&lt;h1&gt;Pre-install steps&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;WSL must be installed on the host machine prior this task. Microsoft has an &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install"&gt;extensive documentation&lt;/a&gt; on the topic.&lt;/li&gt;
&lt;li&gt;Basic WSL management skills are nice to have, like importing/exporting/removing WSL instances. Use &lt;code&gt;wsl --help&lt;/code&gt; for reference.&lt;/li&gt;
&lt;li&gt;Read the &lt;a href="https://www.kali.org/get-kali/#kali-wsl"&gt;Kali documentation&lt;/a&gt; about the topic as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Kali WSL installation&lt;/h1&gt;
&lt;p&gt;Install the Kali WSL machine from the &lt;a href="https://apps.microsoft.com/store/detail/kali-linux/9PKR34TNCV07?hl=en-us&amp;amp;gl=US"&gt;Microsoft Store&lt;/a&gt; and do NOT use the wsl.exe command for it. At the time of writing this document there is an error in the system when installing Kali with wsl.exe, and it installs and outdated version. Use the &lt;a href="https://apps.microsoft.com/store/detail/kali-linux/9PKR34TNCV07?hl=en-us&amp;amp;gl=US"&gt;Microsoft Store&lt;/a&gt; instead.&lt;/p&gt;
&lt;p&gt;After installing the Kali machine start it from the Start menu, let it install the necessary services and set up the user.&lt;/p&gt;
&lt;p&gt;In the end of the initial setup update the system with the apt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt update &amp;amp;&amp;amp; sudo apt full-upgrade -y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Let the process finish the upgrade, then remove the unnecessary files:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt autoremove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Win-KeX installation (Kali desktop on Windows WSL)&lt;/h1&gt;
&lt;p&gt;As Microsoft more and more integrates Linux in its operating system the usability is better day by day.
Win-KeX is giving a great Kali desktop environment on our Windows system.&lt;/p&gt;
&lt;p&gt;Install the Win-KeX package:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt install -y kali-win-kex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then if we have enough patience and space, then we can install the whole Kali linux toolset:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt install -y kali-linux-large
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;When the process stopped then we have all the tools we need for our Cyber Security learning journey.&lt;/p&gt;
&lt;h1&gt;Starting Win-KeX from Kali&lt;/h1&gt;
&lt;p&gt;I use &lt;a href="https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701?hl=en-us&amp;amp;gl=US"&gt;Windows Terminal&lt;/a&gt; for its features and simplicity. &lt;/p&gt;
&lt;p&gt;After starting the Kali in terminal, KeX can be activated with the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;kex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It opens a TigerVNC session where the context menu can be opened by hitting the F8 key.&lt;/p&gt;
&lt;p&gt;Now we can use our usual Kali tools on Windows running a Kali WSL box.&lt;/p&gt;
&lt;p&gt;More &lt;a href="https://www.kali.org/docs/wsl/win-kex/"&gt;documentation&lt;/a&gt; about the possibilities.&lt;/p&gt;</content><category term="Windows"></category><category term="linux"></category><category term="wsl"></category><category term="windows"></category><category term="howto"></category></entry><entry><title>How to backup and restore a distro on WSL</title><link href="https://tmolnar0831.github.io/how-to-backup-and-restore-wsl.html" rel="alternate"></link><published>2022-05-02T00:00:00+02:00</published><updated>2022-05-02T00:00:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-05-02:/how-to-backup-and-restore-wsl.html</id><summary type="html">&lt;p&gt;Follow the process on my &lt;a href="https://youtu.be/dx2WoQo8hho"&gt;YouTube video&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;Backing up and restoring WSL distros is easier than anyone can think! It is simply an export of the stopped distro that can be moved on an external disk or share. Restoring a backup is importing the generated tar archive.&lt;/p&gt;
&lt;p&gt;Moreover we can …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Follow the process on my &lt;a href="https://youtu.be/dx2WoQo8hho"&gt;YouTube video&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;Backing up and restoring WSL distros is easier than anyone can think! It is simply an export of the stopped distro that can be moved on an external disk or share. Restoring a backup is importing the generated tar archive.&lt;/p&gt;
&lt;p&gt;Moreover we can add &lt;strong&gt;multiple instances&lt;/strong&gt; of the same distro with exporting then importing it. With this let's say we can have three different Debian WSL boxes.&lt;/p&gt;
&lt;p&gt;To list our current distros use the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wsl --list --verbose
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It will have an output something like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;  NAME          STATE           VERSION
* Debian        Running         2
  kali-linux    Stopped         2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;To terminate a distro use the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wsl --terminate kali-linux
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code&gt;kali-linux&lt;/code&gt; is the distro name from the list command above!&lt;/p&gt;
&lt;h1&gt;Backup a WSL distro&lt;/h1&gt;
&lt;p&gt;Backing up a WSL distro happens with the &lt;code&gt;--export&lt;/code&gt; option of the &lt;code&gt;wsl&lt;/code&gt; command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;wsl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="k"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;kali&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;\&lt;span class="n"&gt;home_lab&lt;/span&gt;\&lt;span class="n"&gt;Kali_WSL&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command will create a tar archive at the defined place.&lt;/p&gt;
&lt;h1&gt;Restore a WSL distro&lt;/h1&gt;
&lt;p&gt;Restoring an image happens with the &lt;code&gt;--import&lt;/code&gt; option.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;wsl&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;kali&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;restored&lt;/span&gt; &lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;\&lt;span class="n"&gt;home_lab&lt;/span&gt;\ &lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;\&lt;span class="n"&gt;home_lab&lt;/span&gt;\&lt;span class="n"&gt;Kali_WSL&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The command will restore the saved state of our WSL distro.&lt;/p&gt;</content><category term="Windows"></category><category term="windows"></category><category term="wsl"></category><category term="howto"></category></entry><entry><title>Installing Apache2 on Debian linux</title><link href="https://tmolnar0831.github.io/installing-apache2-on-debian-linux.html" rel="alternate"></link><published>2022-04-28T16:00:00+02:00</published><updated>2022-05-02T15:55:00+02:00</updated><author><name>Tamas Molnar</name></author><id>tag:tmolnar0831.github.io,2022-04-28:/installing-apache2-on-debian-linux.html</id><summary type="html">&lt;h1&gt;Installing Apache2 on Debian 11&lt;/h1&gt;
&lt;p&gt;Follow the process on my &lt;a href="https://www.youtube.com/watch?v=uvbACgn_AWA"&gt;YouTube&lt;/a&gt; video!&lt;/p&gt;
&lt;p&gt;The expected outcome is &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To open a browser&lt;/li&gt;
&lt;li&gt;Type the IP address of the machine (DNS configuration is a topic for later)&lt;/li&gt;
&lt;li&gt;It must serve a new, custom html file called &lt;code&gt;index.html&lt;/code&gt; with our string &lt;code&gt;"Hello, How …&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h1&gt;Installing Apache2 on Debian 11&lt;/h1&gt;
&lt;p&gt;Follow the process on my &lt;a href="https://www.youtube.com/watch?v=uvbACgn_AWA"&gt;YouTube&lt;/a&gt; video!&lt;/p&gt;
&lt;p&gt;The expected outcome is &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To open a browser&lt;/li&gt;
&lt;li&gt;Type the IP address of the machine (DNS configuration is a topic for later)&lt;/li&gt;
&lt;li&gt;It must serve a new, custom html file called &lt;code&gt;index.html&lt;/code&gt; with our string &lt;code&gt;"Hello, How are you?"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Preparation work&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Debian 11 netinstall in a VM is ready (it will be the server)&lt;/li&gt;
&lt;li&gt;The network configuration is ready (IP and port 80 are reachable)&lt;/li&gt;
&lt;li&gt;Root access on the VM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some links about the topic I visited before starting the installation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The official website of the HTTP server is noted: &lt;a href="https://httpd.apache.org/"&gt;Apache2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The documentaion is already under our pillow: &lt;a href="https://httpd.apache.org/docs/2.4/"&gt;Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A basic and &lt;strong&gt;safe&lt;/strong&gt; installation is the plan: &lt;a href="https://httpd.apache.org/docs/2.4/misc/security_tips.html"&gt;Security Tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The main site will go to the &lt;code&gt;/var/www/html&lt;/code&gt; directory&lt;/li&gt;
&lt;li&gt;Protecting the system settings and information is a must&lt;/li&gt;
&lt;li&gt;Do &lt;strong&gt;NOT&lt;/strong&gt; allow directory listing for clients&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Installation and configuration&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;SSH to the target server machine&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;su -&lt;/code&gt; to elevate the privileges to &lt;code&gt;root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Search for the &lt;code&gt;apache2&lt;/code&gt; package in the Debian apt repo with &lt;code&gt;apt search apache2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;We will find it in the default Debian repository like the followings:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apache2/stable 2.4.53-1~deb11u1 amd64
  Apache HTTP Server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Install the package with the &lt;code&gt;apt install -y apache2&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;The HTTP service will start immediately with serving the default Debian Apache2 page&lt;/li&gt;
&lt;li&gt;Stop the service with the &lt;code&gt;systemctl stop apache2&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Open the &lt;code&gt;/etc/apache2/apache2.conf&lt;/code&gt; file in a text editor and configure it carefully&lt;/li&gt;
&lt;li&gt;The security related configs will go to the &lt;code&gt;/etc/apache2/conf-enabled/security.conf&lt;/code&gt; file&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ServerTokens&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;ServerTokens&lt;/code&gt; default configuration will display the Operating System and Apache version.
Giving out this information to the possible attackers is not wise. Let them work for getting it. :)&lt;/p&gt;
&lt;p&gt;Setting this option to &lt;code&gt;Prod&lt;/code&gt; will only show that we run an Apache web server.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ServerTokens Prod
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ServerSignature&lt;/h2&gt;
&lt;p&gt;Pushing our security it even further we can turn off the whole server signature with the following configuration:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ServerSignature Off
ServerTokens Prod
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After reloading the Apache configuration the service will not give out any hints about our system and server version.&lt;/p&gt;
&lt;h2&gt;Directory listing&lt;/h2&gt;
&lt;p&gt;By the default configuration in the lack of an index file Apahce will show the contents of the directory.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;We do not want it at all!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;With the &lt;code&gt;-Indexes&lt;/code&gt; option the browser will get an access denied message.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt; &lt;span class="err"&gt;/var/www&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        Options -Indexes
        Options FollowSymLinks
        AllowOverride None
        Require all denied
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Change the default site&lt;/h1&gt;
&lt;p&gt;Now we can upload our new site that will be served by our Apache2 installation.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;rm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, How are you?&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="n"&gt;systemctl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;apache2&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Open a browser and check the site!&lt;/p&gt;</content><category term="Linux"></category><category term="linux"></category><category term="http"></category><category term="howto"></category></entry></feed>