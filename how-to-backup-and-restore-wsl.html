<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>How to backup and restore a distro on WSL</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Backing up and restoring WSL distros is easier than anyone thinks! It is simply an export of the stopped distro that can be moved on an external..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Tom's IT Cafe</a></h1>
                <nav><ul>
                    <li><a href="/category/linux.html">Linux</a></li>
                    <li class="active"><a href="/category/windows.html">Windows</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/how-to-backup-and-restore-wsl.html" rel="bookmark"
           title="Permalink to How to backup and restore a distro on WSL">How to backup and restore a distro on WSL</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-05-02T00:00:00+02:00">
                Published: Mon 02 May 2022
        </abbr>
		<br />
        <abbr class="modified" title="2022-05-02T00:00:00+02:00">
                Updated: Mon 02 May 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/tamas-molnar.html">Tamas Molnar</a>
        </address>
<p>In <a href="/category/windows.html">Windows</a>.</p>
<p>tags: <a href="/tag/windows.html">windows</a> <a href="/tag/wsl.html">wsl</a> <a href="/tag/howto.html">howto</a> </p>
</footer><!-- /.post-info -->      <p>Backing up and restoring WSL distros is easier than anyone thinks! It is simply an export of the stopped distro that can be moved on an external disk or share. Restoring a backup is importing the generated tar archive.</p>
<p>Moreover we can add <strong>multiple instances</strong> of the same distro with exporting then importing it. With this let's say we can have three different Debian WSL boxes.</p>
<p>To list our current distros use the following command:</p>
<div class="highlight"><pre><span></span><code>wsl --list --verbose
</code></pre></div>

<p>It will have an output something like this:</p>
<div class="highlight"><pre><span></span><code>  NAME          STATE           VERSION
* Debian        Running         2
  kali-linux    Stopped         2
</code></pre></div>

<p>To terminate a distro use the following command:</p>
<div class="highlight"><pre><span></span><code>wsl --terminate kali-linux
</code></pre></div>

<p>The <code>kali-linux</code> is the distro name from the list command above!</p>
<h1>Backup a WSL distro</h1>
<p>Backing up a WSL distro happens with the <code>--export</code> option of the <code>wsl</code> command:</p>
<div class="highlight"><pre><span></span><code><span class="n">wsl</span><span class="w"> </span><span class="o">--</span><span class="k">export</span><span class="w"> </span><span class="n">kali</span><span class="o">-</span><span class="n">linux</span><span class="w"> </span><span class="n">D</span><span class="p">:</span>\<span class="n">home_lab</span>\<span class="n">Kali_WSL</span><span class="o">.</span><span class="n">tar</span><span class="w"></span>
</code></pre></div>

<p>The command will create a tar archive at the defined place.</p>
<h1>Restore a WSL distro</h1>
<p>Restoring an image happens with the <code>--import</code> option.</p>
<div class="highlight"><pre><span></span><code><span class="n">wsl</span> <span class="o">--</span><span class="kn">import</span> <span class="nn">kali</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">restored</span> <span class="n">D</span><span class="p">:</span>\<span class="n">home_lab</span>\ <span class="n">D</span><span class="p">:</span>\<span class="n">home_lab</span>\<span class="n">Kali_WSL</span><span class="o">.</span><span class="n">tar</span>
</code></pre></div>

<p>The command will restore the saved state of our WSL distro.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://www.reddit.com/user/st_iron">Reddit</a></li>
                            <li><a href="https://www.youtube.com/channel/UC28ChJtG8OTp1_5AWwpoh0w">YouTube</a></li>
                            <li><a href="https://github.com/tmolnar0831">GitHub</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>